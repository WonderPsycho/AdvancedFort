interaction_test

OBJECT:INTERACTION

[INTERACTION:VAMPIRE_TEST]

[I_SOURCE:DEITY]
	[IS_USAGE_HINT:MAJOR_CURSE]
	[IS_HIST_STRING_1: cursed ]
	[IS_HIST_STRING_2: to prowl the night in search of blood]

[I_SOURCE:CREATURE_ACTION]

[I_TARGET:A:CREATURE]
	[IT_LOCATION:CONTEXT_CREATURE]
	[IT_REQUIRES:CAN_LEARN]
	[IT_REQUIRES:HAS_BLOOD]
	[IT_FORBIDDEN:NOT_LIVING]
	[IT_FORBIDDEN:SUPERNATURAL]
	[IT_CANNOT_HAVE_SYNDROME_CLASS:WERECURSE]
	[IT_CANNOT_HAVE_SYNDROME_CLASS:VAMPCURSE]
	[IT_CANNOT_HAVE_SYNDROME_CLASS:DISTURBANCE_CURSE]

[I_EFFECT:ADD_SYNDROME]
	[IE_TARGET:A]
	[IE_IMMEDIATE]
	[IE_ARENA_NAME:ATEST Master Vampire TEST]
	[SYNDROME]
		[SYN_CLASS:VAMPCURSE] This apparently makes it so the game recognizes it as a vampire curse.
		[SYN_CLASS:MASTVAMP_STAGE1]
		[SYN_INGESTED]
		[SYN_INJECTED]
		[CE_CHANGE_PERSONALITY:FACET:CONFIDENCE:50:FACET:BRAVERY:100:FACET:VIOLENT:100:FACET:AMBITION:50:FACET:PRIDE:50:PROB:100:START:0] hoping to make them attack instead of flee
		[CE_ADD_TAG:BLOODSUCKER:STERILE:NOT_LIVING:NOFEAR::NO_PHYS_ATT_GAIN:NO_PHYS_ATT_RUST:NO_EAT:NO_DRINK:START:0] 
		[CE_BODY_MAT_INTERACTION:MAT_TOKEN:RESERVED_BLOOD:START:0]
			[CE:INTERACTION:MASTER_VAMPIRE_CURSE]
			[CE:SYNDROME_TAG:SYN_INGESTED]
			[CE:SYNDROME_TAG:SYN_INJECTED]
		[CE_DISPLAY_TILE:TILE:165:4:0:0:START:0:CAN_BE_HIDDEN]
		[CE_DISPLAY_NAME:NAME:master vampire:master vampires:vampiric:START:0:CAN_BE_HIDDEN]
		[CE_BP_APPEARANCE_MODIFIER:START:0:BP:BY_CATEGORY:TOOTH:APPEARANCE_MODIFIER:LENGTH:150]
			[CE:COUNTER_TRIGGER:DRINKING_BLOOD:1:NONE:REQUIRED]
		powers just after drinking blood
		[CE_SPEED_CHANGE:SPEED_PERC:170:START:0]
			[CE:COUNTER_TRIGGER:TIME_SINCE_SUCKED_BLOOD:0:1200:REQUIRED]
		[CE_ADD_TAG:NO_THOUGHT_CENTER_FOR_MOVEMENT:EXTRAVISION:NO_AGING:NOEXERT:NOPAIN:NOBREATHE:NOSTUN:NONAUSEA:NO_DIZZINESS:NO_FEVERS:PARALYZEIMMUNE:NO_SLEEP:START:0]
			[CE:COUNTER_TRIGGER:TIME_SINCE_SUCKED_BLOOD:0:1200:REQUIRED]
		[CE_PHYS_ATT_CHANGE:STRENGTH:2500:0:AGILITY:3000:0:TOUGHNESS:4000:0:RECUPERATION:2000:0:START:0]
			[CE:COUNTER_TRIGGER:TIME_SINCE_SUCKED_BLOOD:0:1200:REQUIRED]
		[CE_MATERIAL_FORCE_MULTIPLIER:MAT_MULT:NONE:NONE:1:10]//buffed to make them able to fight other vampires without limbs exploding at each blow
			[CE:COUNTER_TRIGGER:TIME_SINCE_SUCKED_BLOOD:0:1200:REQUIRED]
			
		after one day of abstinence -> stats halved
		[CE_SPEED_CHANGE:SPEED_PERC:125:START:0]
			[CE:COUNTER_TRIGGER:TIME_SINCE_SUCKED_BLOOD:1201:2400:REQUIRED]
		[CE_ADD_TAG:NO_THOUGHT_CENTER_FOR_MOVEMENT:NO_AGING:NOPAIN:NOEXERT:NOBREATHE:NOSTUN:NO_DIZZINESS:NO_FEVERS:START:0]
			[CE:COUNTER_TRIGGER:TIME_SINCE_SUCKED_BLOOD:1201:2400:REQUIRED]
		[CE_PHYS_ATT_CHANGE:STRENGTH:1250:0:AGILITY:1500:0:TOUGHNESS:2000:0:RECUPERATION:1000:0:START:0]
			[CE:COUNTER_TRIGGER:TIME_SINCE_SUCKED_BLOOD:1201:2400:REQUIRED]
		[CE_MATERIAL_FORCE_MULTIPLIER:MAT_MULT:NONE:NONE:1:5]
			[CE:COUNTER_TRIGGER:TIME_SINCE_SUCKED_BLOOD:1201:2400:REQUIRED]

			
		after 2 days -> barely better than a human
		[CE_SPEED_CHANGE:SPEED_PERC:105:START:0]
			[CE:COUNTER_TRIGGER:TIME_SINCE_SUCKED_BLOOD:2401:4800:REQUIRED]
		[CE_ADD_TAG:NO_AGING:NO_DIZZINESS:NO_FEVERS:START:0]
			[CE:COUNTER_TRIGGER:TIME_SINCE_SUCKED_BLOOD:2401:4800:REQUIRED]
		[CE_PHYS_ATT_CHANGE:STRENGTH:200:0:AGILITY:300:0:TOUGHNESS:150:0:RECUPERATION:200:0:START:0]
			[CE:COUNTER_TRIGGER:TIME_SINCE_SUCKED_BLOOD:2401:4800:REQUIRED]
		[CE_MATERIAL_FORCE_MULTIPLIER:MAT_MULT:NONE:NONE:1:2]
			[CE:COUNTER_TRIGGER:TIME_SINCE_SUCKED_BLOOD:2401:4800:REQUIRED]
		
		
		after 4 days -> weaker than a human
		[CE_SPEED_CHANGE:SPEED_PERC:60:START:0]
			[CE:COUNTER_TRIGGER:TIME_SINCE_SUCKED_BLOOD:4801:7200:REQUIRED]
		[CE_COUGH_BLOOD:SEV:5000:PROB:100:RESISTABLE:START:0]
			[CE:COUNTER_TRIGGER:TIME_SINCE_SUCKED_BLOOD:4801:7200:REQUIRED]
		[CE_ADD_TAG:NO_DIZZINESS:NO_FEVERS:START:0]
			[CE:COUNTER_TRIGGER:TIME_SINCE_SUCKED_BLOOD:4801:7200:REQUIRED]
		[CE_PHYS_ATT_CHANGE:STRENGTH:50:0:AGILITY:80:0:TOUGHNESS:70:0:RECUPERATION:60:0:START:0]
			[CE:COUNTER_TRIGGER:TIME_SINCE_SUCKED_BLOOD:4801:7200:REQUIRED]
		[CE_MATERIAL_FORCE_MULTIPLIER:MAT_MULT:NONE:NONE:2:1]
			[CE:COUNTER_TRIGGER:TIME_SINCE_SUCKED_BLOOD:4801:7200:REQUIRED]

			
		after 6 days -> dieing
		[CE_SPEED_CHANGE:SPEED_PERC:70:START:0]
			[CE:COUNTER_TRIGGER:TIME_SINCE_SUCKED_BLOOD:7201:8400:REQUIRED]
		[CE_FEVER:SEV:10000:PROB:100:RESISTABLE:START:ABRUPT_START:0]
			[CE:COUNTER_TRIGGER:TIME_SINCE_SUCKED_BLOOD:7201:8400:REQUIRED]
		[CE_VOMIT_BLOOD:SEV:15000:PROB:100:START:0:ABRUPT_START]
			[CE:COUNTER_TRIGGER:TIME_SINCE_SUCKED_BLOOD:7201:8400:REQUIRED]
		[CE_BLEEDING:SEV:125:PROB:100:BP:BY_CATEGORY:MOUTH:SKIN:START:0]
			[CE:COUNTER_TRIGGER:TIME_SINCE_SUCKED_BLOOD:7201:8400:REQUIRED]
		[CE_UNCONSCIOUSNESS:SEV:1000:PROB:100:START:0]
			[CE:COUNTER_TRIGGER:TIME_SINCE_SUCKED_BLOOD:7201:8400:REQUIRED]
		[CE_PHYS_ATT_CHANGE:STRENGTH:80:0:AGILITY:95:0:TOUGHNESS:80:0:RECUPERATION:90:0:START:0]
			[CE:COUNTER_TRIGGER:TIME_SINCE_SUCKED_BLOOD:7201:8400:REQUIRED]

			
		die after 7 days
		[CE_SPEED_CHANGE:SPEED_PERC:50:START:0]
			[CE:COUNTER_TRIGGER:TIME_SINCE_SUCKED_BLOOD:8401:NONE:REQUIRED]
		[CE_FEVER:SEV:15000:PROB:100:RESISTABLE:START:0:ABRUPT_START]
			[CE:COUNTER_TRIGGER:TIME_SINCE_SUCKED_BLOOD:8401:NONE:REQUIRED]
		[CE_BLEEDING:SEV:2500:PROB:100:BP:BY_CATEGORY:MOUTH:SKIN:START:0]
			[CE:COUNTER_TRIGGER:TIME_SINCE_SUCKED_BLOOD:8401:NONE:REQUIRED]
		[CE_UNCONSCIOUSNESS:SEV:1000:PROB:100:START:0]
			[CE:COUNTER_TRIGGER:TIME_SINCE_SUCKED_BLOOD:8401:NONE:REQUIRED]
		[CE_IMPAIR_FUNCTION:SEV:15000:PROB:100:BP:BY_TYPE:THOUGHT:ALL:START:0]
			[CE:COUNTER_TRIGGER:TIME_SINCE_SUCKED_BLOOD:8401:NONE:REQUIRED]
		[CE_PHYS_ATT_CHANGE:STRENGTH:80:0:AGILITY:95:0:TOUGHNESS:80:0:RECUPERATION:90:0:START:0]
			[CE:COUNTER_TRIGGER:TIME_SINCE_SUCKED_BLOOD:8401:NONE:REQUIRED]
			
		
		some of these powers are acquired by drinking blood (and lost if the vampire don't drink for some time)
		[CE_CAN_DO_INTERACTION:START:0]
		   [CE:COUNTER_TRIGGER:TIME_SINCE_SUCKED_BLOOD:0:2400:REQUIRED]
			[CDI:ADV_NAME:Transform into Giant Bat/Regenerate]   
			[CDI:INTERACTION:VAMP_REGEN]  
			[CDI:TARGET:A:SELF_ONLY] 
			[CDI:TARGET_RANGE:A:1]		  
		   	[CDI:USAGE_HINT:FLEEING]
			[CDI:VERB:begin to transform:begins to transform:NA]
			[CDI:WAIT_PERIOD:10000]
			   
		[CE_CAN_DO_INTERACTION:START:0]
		   [CE:COUNTER_TRIGGER:TIME_SINCE_SUCKED_BLOOD:0:1200:REQUIRED]
			[CDI:ADV_NAME:Vampiric Speed]	 
			[CDI:INTERACTION:VAMP_SPEED]
			[CDI:TARGET:A:SELF_ONLY]
			[CDI:TARGET_RANGE:A:1]
			[CDI:VERB:focus:focuses:NA]
			[CDI:TARGET_VERB:move at incredible speed:moves at incredible speed]
			[CDI:WAIT_PERIOD:1000]
			   
		[CE_CAN_DO_INTERACTION:START:0]
			[CDI:ADV_NAME:Paralyzing Stare]
			[CDI:INTERACTION:VAMP_STARE]
			[CDI:TARGET:A:LINE_OF_SIGHT]
			[CDI:BP_REQUIRED:BY_CATEGORY:EYE]
			[CDI:TARGET_RANGE:A:12]
		   	[CDI:USAGE_HINT:ATTACK]
	   		[CDI:MAX_TARGET_NUMBER:A:1]
			[CDI:TARGET_VERB:look into the vampire's eyes and shiver as it stares back:looks into your eyes. You stare back with a cold smile, showing what you really are:NA]
			[CDI:WAIT_PERIOD:700]
			
		[CE_CAN_DO_INTERACTION:START:0]
			[CDI:ADV_NAME:Vanish]
			[CDI:INTERACTION:MAS_VAMP_STEALTH]
			[CDI:TARGET:A:SELF_ONLY]
			[CDI:TARGET_RANGE:A:1]
		   	[CDI:USAGE_HINT:FLEEING]
			[CDI:VERB:fade away:fades away:NA]
			[CDI:WAIT_PERIOD:500]
			
		[CE_CAN_DO_INTERACTION:START:0]
		   [CE:COUNTER_TRIGGER:TIME_SINCE_SUCKED_BLOOD:0:7200:REQUIRED]
			[CDI:ADV_NAME:Hypersonic Scream]
			[CDI:INTERACTION:VAMP_SCREAM]
			[CDI:TARGET:A:LINE_OF_SIGHT]
			[CDI:TARGET_RANGE:A:8]
		   	[CDI:USAGE_HINT:ATTACK]
	   		[CDI:MAX_TARGET_NUMBER:A:20]
			[CDI:VERB:scream:screams:NA]
			[CDI:TARGET_VERB:feel the room begin to spin...:wobbles and turns green]
			[CDI:WAIT_PERIOD:800]
			

[INTERACTION:LESSER_VAMPIRE_CURSE_TEST]

[I_SOURCE:DEITY]
	[IS_USAGE_HINT:MAJOR_CURSE]
	[IS_HIST_STRING_1: cursed ]
	[IS_HIST_STRING_2: to hide in the shadows in search of blood]

[I_SOURCE:ATTACK]
	[IS_HIST_STRING_1: bit ]
	[IS_HIST_STRING_2:, passing on its curse]
	
[I_SOURCE:SECRET]
	[IS_NAME:vampirism]
	[IS_SPHERE:NIGHT]
	[IS_SECRET_GOAL:IMMORTALITY]
	[IS_SECRET:SUPERNATURAL_LEARNING_POSSIBLE]
	[IS_SECRET:MUNDANE_RESEARCH_POSSIBLE]
	[IS_SECRET:MUNDANE_TEACHING_POSSIBLE]

[I_SOURCE:CREATURE_ACTION]
	[IS_HIST_STRING_1: turned]
	[IS_HIST_STRING_2: by an elder vampire]

[I_SOURCE:INGESTION]
	[IS_HIST_STRING_1: consumed the tainted blood of ]
	[IS_HIST_STRING_2: and was cursed]

[I_TARGET:A:CREATURE]
	[IT_LOCATION:CONTEXT_CREATURE]
	[IT_REQUIRES:CAN_LEARN]
	[IT_REQUIRES:HAS_BLOOD]
	[IT_FORBIDDEN:NOT_LIVING]
	[IT_FORBIDDEN:SUPERNATURAL]
	[IT_IMMUNE_CLASS:VAMPIRE]//for feral vampires
	[IT_CANNOT_HAVE_SYNDROME_CLASS:INFERNO]
	[IT_CANNOT_HAVE_SYNDROME_CLASS:LICH]
	[IT_CANNOT_HAVE_SYNDROME_CLASS:WERECURSE]
	[IT_CANNOT_HAVE_SYNDROME_CLASS:VAMPCURSE]
	[IT_CANNOT_HAVE_SYNDROME_CLASS:DISTURBANCE_CURSE]
	[IT_MANUAL_INPUT:victim]
	
[I_EFFECT:ADD_SYNDROME]
	[IE_TARGET:A]
	[IE_IMMEDIATE]
	[IE_ARENA_NAME:VampTest]
	[SYNDROME]
		[SYN_CLASS:VAMPCURSE]
		[SYN_INGESTED]
		[SYN_INJECTED]
		[CE_PAIN:SEV:800:PROB:100:LOCALIZED:RESISTABLE:START:10:END:20]
		[CE_FEVER:SEV:10000:PROB:100:START:10:PEAK:15:END:20]
		[CE_DIZZINESS:SEV:10000:PROB:100:START:10:PEAK:18:END:20]
		[CE_CHANGE_PERSONALITY:FACET:CONFIDENCE:400:FACET:BRAVERY:400:FACET:VIOLENT:100:FACET:AMBITION:50:FACET:PRIDE:400:PROB:100:START:21]  hoping to make them attack instead of flee
		[CE_SPEED_CHANGE:SPEED_PERC:160:START:21]
		[CE_ADD_TAG:BLOODSUCKER:STERILE:NOT_LIVING:NO_PHYS_ATT_GAIN:START:21]
		[CE_ADD_TAG:NO_AGING:NOBREATHE:NO_DIZZINESS:NO_FEVERS:NO_EAT:NO_DRINK:START:21]
		[CE_PHYS_ATT_CHANGE:STRENGTH:1750:0:AGILITY:800:0:ENDURANCE:800:0:TOUGHNESS:1800:0:RECUPERATION:1300:0:START:21]
		[CE_MATERIAL_FORCE_MULTIPLIER:MAT_MULT:NONE:NONE:1:8:START:21]//buffed to make them able to fight other vampires without limbs exploding at each blow
		[CE_BODY_MAT_INTERACTION:MAT_TOKEN:RESERVED_BLOOD:START:21]
			[CE:INTERACTION:LESSER_VAMPIRE_CURSE_1]
			[CE:SYNDROME_TAG:SYN_INGESTED]
			[CE:SYNDROME_TAG:SYN_INJECTED]
		[CE_DISPLAY_TILE:TILE:165:4:0:0:START:21:CAN_BE_HIDDEN]
		[CE_DISPLAY_NAME:NAME:elder vampire:elder vampires:vampiric:START:21:CAN_BE_HIDDEN]
		[CE_BP_APPEARANCE_MODIFIER:START:0:BP:BY_CATEGORY:TOOTH:APPEARANCE_MODIFIER:LENGTH:50]
			[CE:COUNTER_TRIGGER:DRINKING_BLOOD:1:NONE:REQUIRED]
		[CE_CAN_DO_INTERACTION:START:21]
			[CDI:ADV_NAME:Transform into wolf/regenerate]
			[CDI:INTERACTION:L_VAMP_WOLF]
			[CDI:TARGET:A:SELF_ONLY]
			[CDI:TARGET_RANGE:A:1]
		   	[CDI:USAGE_HINT:FLEEING]
			[CDI:VERB:begin to transform:begins to transform:NA]
			[CDI:WAIT_PERIOD:30000]
		[CE_CAN_DO_INTERACTION:START:21]
			[CDI:ADV_NAME:Lesser Vampiric Speed]
			[CDI:INTERACTION:L_VAMP_SPEED]
			[CDI:TARGET:A:SELF_ONLY]
			[CDI:TARGET_RANGE:A:1]
			[CDI:VERB:focus:focuses:NA]
			[CDI:TARGET_VERB:move at amazing speed:moves at amazing speed]
			[CDI:WAIT_PERIOD:1400]
		[CE_CAN_DO_INTERACTION:START:21]
			[CDI:ADV_NAME:Vanish]
			[CDI:INTERACTION:VAMP_STEALTH]
			[CDI:TARGET:A:SELF_ONLY]
			[CDI:TARGET_RANGE:A:1]
		   	[CDI:USAGE_HINT:FLEEING]
			[CDI:VERB:fade away:fades away:NA]
			[CDI:WAIT_PERIOD:5000]
		[CE_CAN_DO_INTERACTION:START:21]
			[CE:COUNTER_TRIGGER:DRINKING_BLOOD:2000:2880:REQUIRED]
		[CDI:INTERACTION:LESSER_VAMPIRE_CURSE_TEST]
		[CDI:ADV_NAME:Attempt to turn someone]
		[CDI:TARGET:A:TOUCHABLE]
		[CDI:USAGE_HINT:GREETING]
		[CDI:MAX_TARGET_NUMBER:A:1]
		[CDI:VERB:force your victim to drink some of your blood:forces its victim to drink some of its blood:NA]
		[CDI:TARGET_VERB:test:test:NA]
		[CDI:WAIT_PERIOD:10000]
		

[INTERACTION:TEST_RESURECT]
	[I_SOURCE:CREATURE_ACTION]
	[I_TARGET:A:CORPSE]
		[IT_LOCATION:CONTEXT_ITEM]
		[IT_REQUIRES:FIT_FOR_RESURRECTION]
		[IT_MANUAL_INPUT:target]
	[I_EFFECT:RESURRECT]
		[IE_TARGET:A]
		[IE_IMMEDIATE]
			  
[INTERACTION:TEST_SPEED_1]
	[I_SOURCE:CREATURE_ACTION]
	[I_TARGET:A:CREATURE]
		[IT_LOCATION:CONTEXT_CREATURE]
	[I_EFFECT:ADD_SYNDROME]
		[IE_TARGET:A]
		[IE_IMMEDIATE]
		[SYNDROME]		
			  [CE_SPEED_CHANGE:SPEED_PERC:375:START:0:END:2:DWF_STRETCH:72] Also a bit long
			  
[INTERACTION:TEST_SPEED_2]
	[I_SOURCE:CREATURE_ACTION]
	[I_TARGET:A:CREATURE]
		[IT_LOCATION:CONTEXT_CREATURE]
	[I_EFFECT:ADD_SYNDROME]
		[IE_TARGET:A]
		[IE_IMMEDIATE]
		[SYNDROME]		
			  [CE_SPEED_CHANGE:SPEED_PERC:375:START:0:END:2:DWF_STRETCH:72] Also a bit long

[INTERACTION:TEST_FORCE]
	[I_SOURCE:CREATURE_ACTION]
	[I_TARGET:A:CREATURE]
		[IT_LOCATION:CONTEXT_CREATURE]
	[I_EFFECT:ADD_SYNDROME]
		[IE_TARGET:A]
		[IE_IMMEDIATE]
		[SYNDROME]		
			  [CE_PHYS_ATT_CHANGE:STRENGTH:375:0:START:0:END:2:DWF_STRETCH:72] Also a bit long
			  
[INTERACTION:TEST_FORCE_1]
	[I_SOURCE:CREATURE_ACTION]
	[I_TARGET:A:CREATURE]
		[IT_LOCATION:CONTEXT_CREATURE]
	[I_EFFECT:ADD_SYNDROME]
		[IE_TARGET:A]
		[IE_IMMEDIATE]
		[SYNDROME]		
			  [CE_PHYS_ATT_CHANGE:STRENGTH:375:0:START:0:END:2:DWF_STRETCH:72] Also a bit long
			  
			  
[INTERACTION:TEST_FORCE_2]
	[I_SOURCE:CREATURE_ACTION]
	[I_TARGET:A:CREATURE]
		[IT_LOCATION:CONTEXT_CREATURE]
	[I_EFFECT:ADD_SYNDROME]
		[IE_TARGET:A]
		[IE_IMMEDIATE]
		[SYNDROME]		
			  [CE_PHYS_ATT_CHANGE:STRENGTH:375:0:START:0:END:2:DWF_STRETCH:72] Also a bit long

[INTERACTION:TEST_SKILL]
	[I_SOURCE:CREATURE_ACTION]
	[I_TARGET:A:CREATURE]
		[IT_LOCATION:CONTEXT_CREATURE]
	[I_EFFECT:ADD_SYNDROME]
		[IE_TARGET:A]
		[IE_IMMEDIATE]
		[SYNDROME]		
			  [CE_SKILL_ROLL_ADJUST:PERC:200:PERC_ON:100:START:0:END:2:DWF_STRETCH:72] Also a bit long
